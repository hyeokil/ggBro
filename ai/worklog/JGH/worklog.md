### [4.26]

- 쓰레기 데이터 추가 수집 및 담배꽁초 데이터 수집
- 데이터 라벨링 추가 진행
- 데이터 전처리 및 추가 학습 진행중
- BT : 핸드폰\_라즈베리파이 블루투스 자동 페어링 코드 구현

### [4.30]

- esp32 카메라 검증(실패)
- 라즈베리파이 4 b opencv 4.6.0.66 설치 및 검증
- 버튼 회로 작성 후 버튼 누를 때 화면 캡처 회로 및 코드 작성

### [5.03]

- 라즈베리파이 제로 2w 카메라 설정
- 라즈베리파이 4 에서 작성한 코드 가져온 뒤 검증
- esp32-cam 카메라 화질 및 호환성 검증

### [5.04 ~ 5.06]

`BLE 사용 이유` : Bluetooth Basic사용 시 배터리가 금방 닳게 되어, 저전력의 블루투스가 필요

- esp32-cam에서 이미지 캡처 코드 작성
- esp32-cam에서 버튼(PULL DOWN) 클릭 시 이미지 캡처 기능 작성
- 이미지 데이터를 패킷으로 나누어 데이터 전송

  - BLE의 최대 전송 데이터가 512Byte이기 떄문에, 나눠서 전송해야 한다.
  - 적절한 데이터 패킷 및 딜레이 조절 필수
  - `Base64` 형식으로 인코딩하여 데이터를 전송함

- trouble shooting

  :boom: BLE의 데이터 전송 시 수신 측에서는 같은 데이터를 지속적으로 받는 현상 존재 : 이미지 버퍼가 정상적으로 넘어오지 않음

  ```
  해결 방법 :

  1. BYTE의 처음과 끝맺음 정보를 보낸 뒤 그 사이 정보들을 저장. (실패)
  2. set을 사용하여 이미 받은 데이터라면 continue하도록 설정하였음(성공)
  ```

### [5.07]

- LED를 통해 이미지 캡처, 데이터 전송, 블루투스 연결 정보를 보여주는 코드 및 회로 구현

- trouble shooting

  :boom: 이미지 데이터 전송 시 시간이 너무 오래 걸림(약 30초)

  ```
  해결 방법 :
  1. 인코딩 방식을 base64 대신 일반 버퍼 형식으로 보냄(base64는 데이터 사이즈가 더 커진다.)
  2. 이미지의 해상도를 낮추어 보냄(640x480 -> 320x280)

  -> 데이터 전송 속도가 30초에서 7초 정도로 줄어듦
  ```

### [5.08]

- Flutter와 이미지 데이터 통신
- 카메라 로직 수정

  - 카메라 이상한 곳 찍히는 현상 보정(진행중)

- 3D 프린팅 모델링 설계함

### [5.09]

- Ging Stick 3D 설계(완)

- 3D 모델링 전체 마무리

- trouble shooting

  :boom: 카메라 캡쳐하여 BLE로 넘기는 과정에서 이전 frame이 찍히는 문제

  ```
  해결 방법 : 카메라 파라미터 중 config.fb_location = CAMERA_FB_IN_PSRAM; 코드와
  config.grab_mode = CAMERA_GRAB_LATEST; 코드를 추가한 후 count를 2로 증가시킴
  ```

  `config.fb_count = 2;` : 저장할 수 있는 캡쳐된 frame 최대 개수

  `config.fb_location = CAMERA_FB_IN_PSRAM;` : 외부 RAM 사용. CPU와 별도로 추가적인 메모리 공간을 제공

  `config.grab_mode = CAMERA_GRAB_LATEST;` : 가장 최근의 프레임을 잡아채며, 새 프레임이 도착하면 이전 프레임을 대체

  -> 각 파라미터는 여러 값을 갖고 있으므로 상황에 맞는 변수 사용.
